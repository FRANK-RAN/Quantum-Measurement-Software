<Window x:Class="Quantum_measurement_UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Quantum Measurement UI" Height="800" Width="800">
    <Grid>
        <!-- Define two columns: one for the motor control and one for the charts -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Define two rows: one for the title and one for the main content -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Text="Quantum Measurement UI"
                   FontSize="20"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Top"
                   Margin="0,10,0,10"
                   Grid.Row="0" Grid.ColumnSpan="2" />

        <!-- Motor Control and Stop Button in the first column -->
        <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Vertical" Margin="10">
            <!-- Motor Selection -->
            <TextBlock Text="Select Motor:" />
            <ComboBox Name="MotorSelection" Width="100" SelectedIndex="0">
                <ComboBoxItem Content="Motor 1" />
                <ComboBoxItem Content="Motor 2" />
                <ComboBoxItem Content="Motor 3" />
                <ComboBoxItem Content="Motor 4" />
            </ComboBox>

            <!-- Relative Move -->
            <TextBlock Text="Relative Move (steps):"/>
            <TextBox Name="RelativeSteps" Width="100" Text="0" />
            <Button Content="Move Relative" Width="150" Click="MoveRelativeButton_Click" Margin="0,5,0,5"/>

            <!-- Move to Target -->
            <TextBlock Text="Position Target (steps):"/>
            <TextBox Name="PositionTarget" Width="100" Text="0" />
            <Button Content="Move to Target" Width="150" Click="MoveToTargetButton_Click" Margin="0,5,0,5"/>

            <!-- Set Zero Position -->
            <Button Content="Set Zero Position" Width="150" Click="SetZeroPositionButton_Click" Margin="0,5,0,5"/>

            <!-- Current Position -->
            <TextBlock Text="Current Position:" />
            <TextBox Name="CurrentPosition" Width="100" IsReadOnly="True" />
            <Button Content="Refresh Position" Width="150" Click="RefreshPositionButton_Click" Margin="0,5,0,5"/>

            <!-- Stop Button -->
            <Button Name="StopButton"
                    Content="Stop"
                    Width="100"
                    Height="30"
                    HorizontalAlignment="Left"
                    Margin="0,10,0,0"
                    Click="StopButton_Click"/>

            <!-- Pixel Selection Section -->
            <TextBlock Text="Specify Pixel (Matrix Coordinate):" FontWeight="Bold" Margin="0,10,0,5" />

            <TextBlock Text="Row (0-7):" Margin="0,5,0,0" />
            <TextBox Name="RowInput" Width="100" Text="0" />

            <TextBlock Text="Column (0-7):" Margin="0,5,0,0" />
            <TextBox Name="ColumnInput" Width="100" Text="0" />

            <Button Content="Confirm Pixel Selection"
                    Width="150"
                    Click="ConfirmPixelSelection_Click"
                    Margin="0,10,0,10"/>

            <TextBlock Text="Selected Pixel Value:" />
            <TextBox Name="SelectedPixelValue" Width="100" IsReadOnly="True" />
        </StackPanel>

        <!-- Container for charts in the second column -->
        <Grid Grid.Row="1" Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <!-- Added new row for the pixel chart -->
            </Grid.RowDefinitions>

            <!-- SignalChart in the first row of the second column -->
            <lvc:CartesianChart Name="SignalChart"
                                LegendLocation="Bottom"
                                Grid.Row="0" Margin="10">
                <lvc:CartesianChart.AxisX>
                    <lvc:Axis Title="Sample Index"></lvc:Axis>
                </lvc:CartesianChart.AxisX>
                <lvc:CartesianChart.AxisY>
                    <lvc:Axis Title="Signal Amplitude"
                              MinValue="-10000" MaxValue="10000"></lvc:Axis>
                    <!-- Adjusted Y-axis range -->
                </lvc:CartesianChart.AxisY>
            </lvc:CartesianChart>

            <!-- HeatmapChart in the second row of the second column -->
            <lvc:CartesianChart Name="HeatmapChart"
                                Grid.Row="1" Margin="10">
                <lvc:CartesianChart.Series>
                    <lvc:HeatSeries Name="HeatSeries"
                                    DataLabels="True"
                                    Title="Cross Correlation">
                        <lvc:HeatSeries.GradientStopCollection>
                            <GradientStop Offset="0" Color="#99FFFF00"></GradientStop>
                            <GradientStop Offset=".25" Color="#FFFFFF00"></GradientStop>
                            <GradientStop Offset=".50" Color="#990000FF"></GradientStop>
                            <GradientStop Offset=".75" Color="#FF0000FF"></GradientStop>
                            <GradientStop Offset="1" Color="#50505050"></GradientStop>
                        </lvc:HeatSeries.GradientStopCollection>
                    </lvc:HeatSeries>
                </lvc:CartesianChart.Series>
                <lvc:CartesianChart.AxisX>
                    <lvc:Axis Title="Column" Labels="0, 1, 2, 3, 4, 5, 6, 7"/>
                </lvc:CartesianChart.AxisX>
                <lvc:CartesianChart.AxisY>
                    <lvc:Axis Title="Row" Labels="0, 1, 2, 3, 4, 5, 6, 7"/>
                </lvc:CartesianChart.AxisY>
            </lvc:CartesianChart>

            <!-- New PixelChart in the third row -->
            <lvc:CartesianChart Name="PixelChart"
                                LegendLocation="Bottom"
                                Grid.Row="2" Margin="10">
                <lvc:CartesianChart.AxisX>
                    <lvc:Axis Title="Time"></lvc:Axis>
                </lvc:CartesianChart.AxisX>
                <lvc:CartesianChart.AxisY>
                    <lvc:Axis Title="Pixel Value"
                              MinValue="-10000" MaxValue="10000"></lvc:Axis>
                    <!-- Adjusted Y-axis range -->
                </lvc:CartesianChart.AxisY>
            </lvc:CartesianChart>
        </Grid>
    </Grid>
</Window>
